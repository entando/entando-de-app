(window["webpackJsonpuser-form-widget"]=window["webpackJsonpuser-form-widget"]||[]).push([[0],{172:function(e){e.exports=JSON.parse('{"error":{"dataLoading":"Error during server connection","forbidden":"Operation forbidden","alreadyExists":"Operation failure, the user already exists"},"common":{"save":"Save","dataSaved":"Data successfully saved","notAuthenticated":"User is not authenticated.","selectFile":"Upload new file","selectImageFile":"Upload new image","download":"Download"},"validation":{"required":"{{field}} is required"},"entities":{"user":{"id":"ID","firstname":"First Name","lastname":"Last Name","email":"Email","username":"Username","password":"Password","confirmPassword":"Confirm Password"}}}')},193:function(e,t,r){e.exports=r(344)},344:function(e,t,r){"use strict";r.r(t);var a=r(55),n=r(56),s=r(62),i=r(36),o=r(57),c=r(185),l=r(30),u=r(0),d=r.n(u),m=r(6),p=r.n(m),f=r(165),h=r.n(f),b=r(385),g=r(389),w=r(383),O=r(184),v=r(13),E=d.a.createContext(null);var y=r(23),x=r(120),j=r(38),S={en:r(172)};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var _=Object.keys(S).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,Object(l.a)({},t,Object(l.a)({},"translation",S[t])))}),{}),P=x.a.t,F=function(e){!function(e,t){x.a.use(j.a).init({defaultNs:"translation",interpolation:{escapeValue:!1},resources:_,lng:e||t,fallbackLng:t,react:{useSuspense:!1}})}(e,"en"),function(e){var t={mixed:{required:function(t){var r=t.path;return e("validation.required",{field:e("entities.user.".concat(r))})}}};y.setLocale(t)}(P)},U=function(e){return function(t){return function(e,t){var r=new CustomEvent(e,{detail:{payload:t}});window.dispatchEvent(r)}(e,t)}},N={tableAdd:"user.table.add",tableSelect:"user.table.select"},C={create:"user.form.create",login:"user.form.login",update:"user.form.update",errorCreate:"user.form.errorCreate",errorUpdate:"user.form.errorUpdate"},T=r(10),A=r.n(T),D=r(22),z=r(40),I="/signup/api";function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){return{headers:new Headers({"Content-Type":"application/json"})}},M=function(){var e=Object(D.a)(A.a.mark((function e(t,r){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:return a=e.sent,e.abrupt("return",a.status>=200&&a.status<300?a.json():Promise.reject(new Error(a.status||a.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(D.a)(A.a.mark((function e(t){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(I,"/").concat("users"),a=L({},q(),{method:"POST",body:t?JSON.stringify(t):null}),e.abrupt("return",M(r,a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=r(4),H=r(388),J=r(376),K=r(373),V=r(5),G=r(386),Q=r(174),X=r.n(Q),Y=r(175),Z=r.n(Y),$=r(173),ee=r.n($),te=r(176),re=r.n(te),ae={success:ee.a,error:X.a,info:Z.a},ne={success:3e3,error:null,info:5e3},se=function e(t){var r=t.className,a=t.classes,n=t.status,s=t.message,i=t.onClose,o=!!s,c=n||e.INFO,l=ae[c],u=ne[c],m=d.a.createElement("span",{className:a.message},d.a.createElement(l,{className:Object(B.a)(a.icon,a.iconStatus)}),s);return d.a.createElement(H.a,{open:o,onClose:i,autoHideDuration:u},d.a.createElement(J.a,{className:Object(B.a)(a[c],r),message:m,action:[d.a.createElement(G.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},d.a.createElement(re.a,{className:a.icon}))]}))};se.SUCCESS="success",se.ERROR="error",se.defaultProps={message:null,className:"",status:se.INFO="info",onClose:function(){}};var ie=Object(V.a)((function(e){return{message:{display:"flex",alignItems:"center"},icon:{fontSize:20},iconStatus:{opacity:.9,marginRight:e.spacing(1)},success:{backgroundColor:K.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main}}}),{withTheme:!0})(se),oe=r(2),ce=r.n(oe),le=(ce.a.shape({id:ce.a.number,firstname:ce.a.string.isRequired,lastname:ce.a.string.isRequired,email:ce.a.string.isRequired,username:ce.a.string.isRequired,password:ce.a.string.isRequired,confirmPassword:ce.a.string.isRequired}),ce.a.shape({firstname:ce.a.string.isRequired,lastname:ce.a.string.isRequired,email:ce.a.string,username:ce.a.string,password:ce.a.string,confirmPassword:ce.a.string}),ce.a.shape({firstname:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),lastname:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),email:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),username:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),password:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),confirmPassword:ce.a.oneOfType([ce.a.bool,ce.a.shape()])}),ce.a.shape({firstname:ce.a.oneOfType([ce.a.string,ce.a.shape()]),lastname:ce.a.oneOfType([ce.a.string,ce.a.shape()]),email:ce.a.oneOfType([ce.a.string,ce.a.shape()]),username:ce.a.oneOfType([ce.a.string,ce.a.shape()]),password:ce.a.oneOfType([ce.a.string,ce.a.shape()]),confirmPassword:ce.a.oneOfType([ce.a.string,ce.a.shape()])}),r(183)),ue=r(96),de=r(377),me=r(384),pe=r(378),fe=r(381),he=r(379),be=r(380),ge=r(72),we=r(33),Oe=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.values,a=e.touched,n=e.errors,s=e.handleChange,i=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,l=e.t,u=e.showPassword,m=e.handleClickShowPassword,p=e.handleMouseDownPassword,f=function(e){return n[e]&&a[e]?n[e]:""};return d.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),o(e)},className:t.UserForm,"data-testid":"user-form"},d.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center"},d.a.createElement(de.a,{container:!0,spacing:4,className:t.UserForm__wrapper},d.a.createElement(de.a,{item:!0,xs:12,sm:12,className:t.UserForm__title},"Registration"),d.a.createElement(de.a,{item:!0,xs:12,md:6,className:t.UserForm__row},d.a.createElement(me.a,{id:"user-firstname",error:n.firstname&&a.firstname,helperText:f("firstname"),className:t.UserForm__textField,onChange:s,onBlur:i,value:r.firstname,name:"firstname",label:l("entities.user.firstname"),type:"firstname",InputProps:{className:t.UserForm__input}})),d.a.createElement(de.a,{item:!0,xs:12,md:6,className:t.UserForm__row},d.a.createElement(me.a,{id:"user-lastname",error:n.lastname&&a.lastname,helperText:f("lastname"),className:t.UserForm__textField,onChange:s,onBlur:i,value:r.lastname,name:"lastname",label:l("entities.user.lastname"),type:"lastname",InputProps:{className:t.UserForm__input}})),d.a.createElement(de.a,{item:!0,xs:12,md:12,className:t.UserForm__row},d.a.createElement(me.a,{id:"user-email",error:n.email&&a.email,helperText:f("email"),className:t.UserForm__textField,onChange:s,onBlur:i,value:r.email,name:"email",label:l("entities.user.email"),type:"email",InputProps:{className:t.UserForm__input}})),d.a.createElement(de.a,{item:!0,xs:12,md:12,className:t.UserForm__row},d.a.createElement(me.a,{id:"user-username",error:n.username&&a.username,helperText:f("username"),className:t.UserForm__textField,onChange:s,onBlur:i,value:r.username,name:"username",label:l("entities.user.username"),InputProps:{className:t.UserForm__input}})),d.a.createElement(de.a,{item:!0,xs:12,md:12,className:t.UserForm__row},d.a.createElement(me.a,{id:"user-password",error:n.password&&a.password,helperText:f("password"),className:t.UserForm__textField,onChange:s,onBlur:i,value:r.password,name:"password",label:l("entities.user.password"),type:u?"text":"password",InputProps:{className:t.UserForm__input,endAdornment:d.a.createElement(pe.a,{position:"end"},d.a.createElement(G.a,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:p},u?d.a.createElement(he.a,null):d.a.createElement(be.a,null)))}})),d.a.createElement(de.a,{item:!0,xs:12,md:12,className:t.UserForm__row},d.a.createElement(me.a,{id:"confirm-user-password",error:n.confirmPassword&&a.confirmPassword,helperText:f("confirmPassword"),className:t.UserForm__textField,onChange:s,onBlur:i,value:r.confirmPassword,name:"confirmPassword",label:l("entities.user.confirmPassword"),type:"password",InputProps:{className:t.UserForm__input}})),d.a.createElement(de.a,{item:!0,xs:12,className:t.UserForm__underlabel},"At least 8 characters and 1 digit"),d.a.createElement(de.a,{item:!0,xs:12,md:12},d.a.createElement("button",{type:"submit",disabled:c,"data-testid":"submit-btn",className:t.UserForm__signup},"Sign up")),d.a.createElement(de.a,{item:!0,xs:12,md:12,className:t.UserForm__social},"or sign up with:"),d.a.createElement(de.a,{container:!0,spacing:0,className:t.UserForm__social},d.a.createElement(de.a,{item:!0,xs:!0},d.a.createElement("a",{href:"www.test.it",className:"UserForm__icons",role:"button"},d.a.createElement(ge.a,{icon:we.a,style:{color:"#0E6837",height:"30px",width:"30px"}})),d.a.createElement("a",{href:"www.test.it",className:"UserForm__icons",role:"button"},d.a.createElement(ge.a,{icon:we.e,style:{color:"#0E6837",height:"30px",width:"30px"}})),d.a.createElement("a",{href:"www.test.it",className:"UserForm__icons",role:"button"},d.a.createElement(ge.a,{icon:we.d,style:{color:"#0E6837",height:"30px",width:"30px"}})),d.a.createElement("a",{href:"www.test.it",className:"UserForm__icons",role:"button"},d.a.createElement(ge.a,{icon:we.b,style:{color:"#0E6837",height:"30px",width:"30px"}}))),d.a.createElement(de.a,{item:!0,xs:12,md:12,spacing:3,className:t.UserForm__divider},d.a.createElement(fe.a,null))),d.a.createElement(de.a,{item:!0,xs:12,md:12,className:t.UserForm__agree},d.a.createElement("p",null,"By clicking ",d.a.createElement("em",null,"Sign up ")," you agree to our"," ",d.a.createElement("a",{href:"www.test.it",target:"_blank"}," ","terms of service"))))))}}]),t}(u.PureComponent);Oe.defaultProps={classes:{},values:{},touched:{},errors:{}};var ve={firstname:"",lastname:"",email:"",username:"",password:"",confirmPassword:""},Ee={mapPropsToValues:function(e){return e.user||ve},enableReinitialize:!0,validationSchema:y.object().shape({firstname:y.string().required(),lastname:y.string().required(),email:y.string().required(),username:y.string().required(),password:y.string().required().min(8).max(16),confirmPassword:y.string().required().when("password",{is:function(e){return!!(e&&e.length>0)},then:y.string().oneOf([y.ref("password")],"Both password need to be the same")})}),handleSubmit:function(e,t){var r=t.setSubmitting;(0,t.props.onSubmit)(e),r(!1)},displayName:"UserForm"},ye=Object(ue.a)(Object(V.a)((function(e){return{root:{margin:e.spacing(0)},UserForm:{background:"#D8EAA0",margin:"-0.5rem"},UserForm__title:{color:"#0E6837",textAlign:"center",fontWeight:"600",fontSize:"2rem"},UserForm__social:{textAlign:"center",fontSize:"1rem",marginBottom:"1.375rem",color:"#000","& a":{color:"#0E6837",fontSize:"0.625rem",margin:"0 .625rem"},"@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{fontSize:"1.5rem"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{fontSize:"1.5rem"}},UserForm__login:{backgroung:"#184437"},UserForm__signup:{background:"#0E6837",fontSize:"1rem",textTransform:"uppercase",color:"#fff",padding:".84rem 2.14rem",width:"100%",borderRadius:"0",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)",border:"none",cursor:"pointer","& :hover":{background:"#0E6837",color:"#fff",padding:".84rem 2.14rem",width:"100%",borderRadius:"0",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)",border:"none",cursor:"pointer"}},UserForm__row:{width:"100%"},UserForm__wrapper:{background:"#fff",padding:"1% 4% ",margin:"8% 31%","@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{background:"#fff",padding:"0",margin:"8% 5%"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{background:"#fff",padding:"0",margin:"8%"}},UserForm__textField:{width:"100%",background:"#fff","& label":{fontSize:"1rem"}},input:{fontSize:"3rem!Important"},UserForm__agree:{textAlign:"center",fontSize:"1rem",marginBottom:"1.375rem",color:"#000","& a":{color:"#0E6837"},"@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{fontSize:"1.2rem"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{fontSize:"1.2rem"}},UserForm__underlabel:{textAlign:"center",fontSize:"0.875rem",marginTop:"-1.375rem",color:"#6c757d","@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{fontSize:"1.1rem",marginTop:"-.375rem"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{fontSize:"1.2rem"}},UserForm__divider:{margin:"1.25rem",padding:"0"},UserForm__input:{fontSize:"1rem","@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{fontSize:"1.5rem"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{fontSize:"1.5rem"}}}}),{withTheme:!0}),Object(j.b)(),Object(le.a)(Ee))(Oe),xe=r(187),je=function(e){var t=e.onLogin,r=e.classes;return d.a.createElement("div",{className:r.AddUserSuccess},d.a.createElement(de.a,{container:!0,className:r.AddUserSuccess__wrapper},d.a.createElement(de.a,{item:!0,xs:12,className:r.AddUserSuccess__title},"Congratulations, registration completed!"),d.a.createElement(de.a,{item:!0,xs:12,className:r.AddUserSuccess__button},d.a.createElement(xe.a,{className:r.root},d.a.createElement("button",{type:"button",className:r.AddUserSuccess__redirect,onClick:function(){t({goToLogin:!0})}},"Click here to login")))))};je.defaultProps={classes:{}};var Se=Object(ue.a)(Object(V.a)((function(e){return{root:{margin:e.spacing(0)},AddUserSuccess:{background:"#D8EAA0",width:"100%",height:"100vh",display:"flex"},AddUserSuccess__title:{color:"#0E6837",textAlign:"center",fontWeight:"600",fontSize:"2rem"},AddUserSuccess__redirect:{background:"#0E6837",fontSize:"1rem",textTransform:"uppercase",color:"#fff",padding:".84rem 2.14rem",width:"100%",borderRadius:"0",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)",border:"none",cursor:"pointer","& :hover":{background:"#0E6837",color:"#fff",padding:".84rem 2.14rem",width:"100%",borderRadius:"0",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)",border:"none",cursor:"pointer"}},AddUserSuccess__wrapper:{background:"#fff",padding:"1% 4% ",margin:"8% 31%","@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{background:"#fff",padding:"0",margin:"8% 5%"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{background:"#fff",padding:"0",margin:"8%"}},AddUserSuccess__button:{}}}),{withTheme:!0}),Object(j.b)())(je),ke=r(382),_e=function(e){var t=e.classes;return d.a.createElement("span",{className:t.message},d.a.createElement(ke.a,{className:t.icon}))};_e.defaultProps={};var Pe=Object(V.a)((function(){return{message:{display:"flex",alignItems:"center",width:"100%",height:"100%",zIndex:"9999",backgroundColor:"rgba(232, 232, 232, 0.4)",position:"absolute",top:"0",left:"0"},icon:{margin:"auto"}}}),{withTheme:!0})(_e);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne=function(){return{headers:new Headers({"Content-Type":"application/json"})}},Ce=function(){var e=Object(D.a)(A.a.mark((function e(t,r){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:return a=e.sent,e.abrupt("return",a.status>=200&&a.status<300?a.json():Promise.reject(new Error(a.status||a.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Te=function(){var e=Object(D.a)(A.a.mark((function e(t){var r,a,n,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checkingAccount,"checking",a=I.replace("signup/api","checking"),n="".concat(a).concat(a.endsWith("/")?"":"/","add/").concat("checking","s"),s=Ue({},Ne(),{method:"POST",body:r?JSON.stringify(r):null}),e.abrupt("return",Ce(n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(D.a)(A.a.mark((function e(t){var r,a,n,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.alertObj,"seedsdashboard","alert",a=I.replace("signup","seedsdashboard"),n="".concat(a).concat(a.endsWith("/")?"":"/").concat("alert","s"),s=Ue({},Ne(),{method:"POST",body:r?JSON.stringify(r):null}),e.abrupt("return",Ce(n,s));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(D.a)(A.a.mark((function e(t){var r,a,n,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.statementObj,"seedsdashboard","statement",a=I.replace("signup","seedsdashboard"),n="".concat(a).concat(a.endsWith("/")?"":"/").concat("statement","s"),s=Ue({},Ne(),{method:"POST",body:r?JSON.stringify(r):null}),e.abrupt("return",Ce(n,s));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={notificationMessage:null,notificationStatus:null,showPassword:!1,success:!1,loading:!1},r.closeNotification=r.closeNotification.bind(Object(z.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(z.a)(r)),r.handleClickShowPassword=r.handleClickShowPassword.bind(Object(z.a)(r)),r.handleMouseDownPassword=r.handleMouseDownPassword.bind(Object(z.a)(r)),r.buildObj=r.buildObj.bind(Object(z.a)(r)),r}return Object(o.a)(t,e),Object(n.a)(t,[{key:"closeNotification",value:function(){this.setState({notificationMessage:null,notificationStatus:null})}},{key:"buildObj",value:function(e){var t=e.description,r=e.id;return{description:t,createdAt:(new Date).toISOString().substring(0,10),read:!1,userId:r}}},{key:"handleSubmit",value:function(){var e=Object(D.a)(A.a.mark((function e(t){var r,a,n,s,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,a=r.t,n=r.onCreate,this.setState({loading:!0}),e.prev=2,e.next=5,W(t);case 5:for(s=e.sent,i="";12!==i.length;)i="".concat(Math.floor(1e5+9e12*Math.random()));return o={accountNumber:i,balance:3500,userID:s.id},e.prev=9,e.next=12,Te({checkingAccount:o});case 12:return e.next=14,Ae({alertObj:this.buildObj({description:"Welcome in your bank",id:s.id})});case 14:return e.next=16,Ae({alertObj:this.buildObj({description:"Checking account created",id:s.id})});case 16:return e.next=18,Ae({alertObj:this.buildObj({description:"Internet banking ACTIVE",id:s.id})});case 18:return e.next=20,Ae({alertObj:this.buildObj({description:"Info banking",id:s.id})});case 20:return e.next=22,De({statementObj:this.buildObj({description:"First Statement",id:s.id})});case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),this.setState({loading:!1}),this.handleError(e.t0);case 28:n(s),this.setState({notificationMessage:a("common.dataSaved"),notificationStatus:ie.SUCCESS,success:!0,loading:!1}),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(2),this.setState({loading:!1}),this.handleError(e.t1);case 36:case"end":return e.stop()}}),e,this,[[2,32],[9,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){var t=this.props,r=t.onError,a=t.t,n="error.dataLoading";r(e),"403"===e.message&&(n="error.forbidden"),"409"===e.message&&(n="error.alreadyExists"),this.setState({notificationMessage:a(n),notificationStatus:ie.ERROR})}},{key:"handleClickShowPassword",value:function(){this.setState((function(e){return{showPassword:!e.showPassword}}))}},{key:"handleMouseDownPassword",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.notificationMessage,r=e.notificationStatus,a=e.showPassword,n=e.success,s=e.loading,i=this.props.onLogin,o=n?d.a.createElement(Se,{onLogin:i}):d.a.createElement(ye,{onSubmit:this.handleSubmit,showPassword:a,handleClickShowPassword:this.handleClickShowPassword,handleMouseDownPassword:this.handleMouseDownPassword});return d.a.createElement(u.Fragment,{style:{position:"relative"}},o,d.a.createElement(ie,{status:r,message:t,onClose:this.closeNotification}),s&&d.a.createElement(Pe,null))}}]),t}(u.PureComponent);ze.defaultProps={onError:function(){},onCreate:function(){},onLogin:function(){}};var Ie,Re=(Ie=Object(j.b)()(ze),function(e){return d.a.createElement(E.Consumer,null,(function(t){return d.a.createElement(Ie,Object.assign({},e,{keycloak:t}))}))}),Le=r(70),qe=r(182);function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Le.b.add(we.c,we.d,we.a,we.e,qe.a);var Be=function(){return window&&window.entando&&window.entando.keycloak&&We({},window.entando.keycloak,{initialized:!0})||{initialized:!1}},He={id:"id",hidden:"hidden",locale:"locale",disableDefaultEventHandler:"disable-default-event-handler"},Je=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(r=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).keycloak=Be(),r.onCreate=U(C.create),r.onLogin=U(C.login),r.onUpdate=U(C.update),r.onErrorCreate=U(C.errorCreate),r.onErrorUpdate=U(C.errorUpdate),r}return Object(o.a)(t,e),Object(n.a)(t,[{key:"attributeChangedCallback",value:function(e,t,r){if(this.mountPoint&&t!==r){if(!Object.values(He).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.render()}}},{key:"connectedCallback",value:function(){var e=this;this.mountPoint=document.createElement("div");var t,r,a=this.attachShadow({mode:"open"});a.appendChild(this.mountPoint),this.jss=Object(v.b)(We({},Object(b.a)(),{insertionPoint:this.mountPoint})),this.muiTheme=Object(O.a)({props:{MuiDialog:{container:this.mountPoint},MuiPopover:{container:this.mountPoint}}}),this.keycloak=We({},Be(),{initialized:!0}),this.unsubscribeFromKeycloakEvent=(t="keycloak",r=function(){e.keycloak=We({},Be(),{initialized:!0}),e.render()},window.addEventListener(t,r),function(){window.removeEventListener(t,r)}),this.render(),h()(a)}},{key:"disconnectedCallback",value:function(){this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent()}},{key:"defaultWidgetEventHandler",value:function(){var e=this;return function(t){var r=N.tableAdd,a=N.tableSelect,n=He.id;switch(t.type){case r:e.setAttribute(n,"");break;case a:e.setAttribute(n,t.detail.payload.id);break;default:throw new Error("Unsupported event: ".concat(t.type))}}}},{key:"render",value:function(){if("true"===this.getAttribute(He.hidden))p.a.render(d.a.createElement(d.a.Fragment,null));else{var e,t,r=this.getAttribute(He.locale);if(F(r),"true"===this.getAttribute(He.disableDefaultEventHandler))this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent();else{var a=this.defaultWidgetEventHandler();this.unsubscribeFromWidgetEvents=(e=Object.values(N),t=a,e.forEach((function(e){return window.addEventListener(e,t)})),function(){e.forEach((function(e){return window.removeEventListener(e,t)}))})}var n=this.getAttribute(He.id)?d.a.createElement(Se,{onLogin:this.onLogin,onError:this.onErrorUpdate},null):d.a.createElement(Re,{onCreate:this.onCreate,onError:this.onErrorCreate,onLogin:this.onLogin},null);p.a.render(d.a.createElement(E.Provider,{value:this.keycloak},d.a.createElement(g.b,{jss:this.jss},d.a.createElement(w.a,{theme:this.muiTheme},n))),this.mountPoint)}}}],[{key:"observedAttributes",get:function(){return Object.values(He)}}]),t}(Object(c.a)(HTMLElement));customElements.define("user-form",Je)}},[[193,1,2]]]);
//# sourceMappingURL=main.63373043.chunk.js.map